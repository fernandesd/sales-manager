$((function(){$('[data-toggle="tooltip"]').tooltip()})),$(document).ready((function(){var t="https://vx.bolty.cc/api/v0",a=$(".products-container"),n=$(".cart-container"),e="";fetch("".concat(t,"/produtos")).then((function(n){n.json().then((function(n){n.data.forEach((function(t){e+='\n                        <div class="col">\n                        <div class="card">\n                            <img src="'.concat(t.image_url,'" class="card-img-top" alt="').concat(t.name,'">\n                            <div class="card-body">\n                                <h5 class="card-title">').concat(t.name,'</h5>\n                                <p class="card-text d-flex justify-content-between">RS ').concat(t.price,' <a href><span class="cartAdd" data-slug="').concat(t.slug,'" data-toggle="tooltip" data-placement="top" title="Adicionar ao carrinho"> <i class="fas fa-cart-plus"></i> </span></a></p>\n                            </div>\n                        </div>\n                    </div>\n        ')})),a.html(e),e="",$(".cartAdd").click((function(a){a.preventDefault(),fetch("".concat(t,"/carrinho/adicionar/").concat(a.currentTarget.dataset.slug),{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){alert(t.message)}))}))}))})),fetch("".concat(t,"/carrinho")).then((function(a){a.json().then((function(a){var c=0;a.data.forEach((function(t,a){c+=Number((t.price*t.quantity).toFixed(2)),e+='\n                    <li class="list-group-item border-0">Produto: '.concat(t.name,'</li>\n                    <li class="list-group-item border-0">Preço: ').concat(t.price,'</li>\n                    <li class="list-group-item border-0">Quantidade: ').concat(t.quantity,'</li>\n                    <li class="list-group-item border-0">Tempo de entrega: ').concat(t.delivery_time,' dias</li>\n                    <li class="list-group-item border-0">Total: ').concat((t.price*t.quantity).toFixed(2),'</li>\n                    <span>\n                    <a class="btn btn-outline-danger btn-sm remove-cart-btn" href="#" role="button" data-index="').concat(a,'"><i class="fas fa-trash-alt"></i></a>\n                    </span>\n                    <hr/>\n                    ')})),$(".total-carrinho").text("Total: "+c.toFixed(2)),n.html(e),e="",$(".remove-cart-btn").click((function(a){a.preventDefault(),fetch("".concat(t,"/carrinho/remover/").concat(a.currentTarget.dataset.index),{method:"delete",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){alert(t.message),document.location.reload(!0)}))}))}))})),$(".saleCreate").click((function(a){a.preventDefault(),fetch("".concat(t,"/carrinho")).then((function(a){a.json().then((function(a){fetch("".concat(t,"/vendas/criar"),{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({items:a.data})}).then((function(t){return t.json()})).then((function(t){alert(t.message),document.location.reload(!0)}))}))}))})),$("#myTable").DataTable({ajax:"".concat(t,"/vendas"),columns:[{data:"id"},{data:"created_at"},{data:"total_cost"},{data:"max_delivery_time"},{data:""}],columnDefs:[{targets:-1,data:null,defaultContent:'<button class="btn btn-info btn-sm"><i class="far fa-eye"></i></button>'}]}),$("#myTable tbody").on("click","button",(function(a){var n=$("#myTable").DataTable().row($(this).parents("tr")).data().id;fetch("".concat(t,"/vendas/").concat(n)).then((function(t){t.json().then((function(t){t.data.items.forEach((function(t){e+='\n                        <li class="list-group-item border-0">Produto: '.concat(t.name,'</li>\n                        <li class="list-group-item border-0">Preço: ').concat(t.price,'</li>\n                        <li class="list-group-item border-0">Quantidade: ').concat(t.quantity,'</li>\n                        <li class="list-group-item border-0">Tempo de entrega: ').concat(t.delivery_time,' dias</li>\n                        <li class="list-group-item border-0">Total: ').concat((t.price*t.quantity).toFixed(2),"</li>\n                        <hr/>")})),Swal.fire({html:e})}))}))}))}));
//# sourceMappingURL=site.js.map